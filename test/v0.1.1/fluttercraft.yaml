# fluttercraft.yaml - Test Configuration for v0.1.1
# Tests: Build flavors, dart_define merging, new YAML format

build_defaults: &build_defaults
  app_name: myapp
  name: 1.0.0
  number: 1
  type: aab
  target: lib/main.dart
  
  global_dart_define:
    APP_NAME: myapp
    GLOBAL_KEY: global_value
  
  dart_define:
    BUILD_KEY: build_value
  
  flags:
    should_prompt_dart_define: true
    should_clean: false
    should_build_runner: false

build:
  <<: *build_defaults
  flavor: null

flavors:
  dev:
    flags:
      should_prompt_dart_define: true
    dart_define:
      IS_DEV: true
      LOG_LEVEL: debug
      ENV: development
  
  staging:
    name: 1.0.0-rc
    flags:
      should_prompt_dart_define: true
      should_clean: true
    dart_define:
      IS_STAGING: true
  
  prod:
    flags:
      should_prompt_dart_define: true
      should_clean: true
      should_build_runner: true
    dart_define:
      IS_PROD: true

environments:
  fvm:
    enabled: true
    version: 3.35.3
  
  shorebird:
    enabled: false
    app_id: null
    no_confirm: true
  
  bundletool:
    path: null
    keystore: android/key.properties
  
  no_color: false

paths:
  output: dist

alias:
  gen-icon:
    cmds:
      - fvm flutter pub get
      - fvm flutter pub run flutter_launcher_icons
