# fluttercraft.yaml - Build Configuration
# Generated by fluttercraft CLI

# ──────────────────────────────────────────────
# App identifier (from pubspec or override here)
# ──────────────────────────────────────────────
app:
  name: fluttercraft

# ──────────────────────────────────────────────
# Core build settings
# ──────────────────────────────────────────────
build:
  # Semantic version (x.y.z)
  name: 0.1.0
  # Build number (integer)
  number: 1
  # Build type: aab | apk | ipa | app
  type: aab
  # Flavor: dev | staging | prod | null
  flavor: null
  # Main entry point
  target: lib/main.dart

# ──────────────────────────────────────────────
# Output & Input paths
# ──────────────────────────────────────────────
paths:
  # Output directory for build artifacts
  output: dist
  # .env file path (optional)
  env: ./.env

# ──────────────────────────────────────────────
# Build flags
# ──────────────────────────────────────────────
flags:
  # Use dart-define-from-file
  use_dart_define: false
  # Run flutter clean before build
  need_clean: false
  # Run build_runner before build
  need_build_runner: false

# ──────────────────────────────────────────────
# FVM integration
# ──────────────────────────────────────────────
fvm:
  # Use FVM for flutter commands
  enabled: true
  # Pinned Flutter version (auto-detected from .fvmrc if null)
  version: 3.35.3

# ──────────────────────────────────────────────
# Shorebird integration
# ──────────────────────────────────────────────
shorebird:
  # Enable Shorebird for builds
  enabled: true
  # App ID (auto-detected from shorebird.yaml)
  app_id: 12345678-f1f1-f2f2-f3f3-f4f4f4f4f4f4
  # @read-only [build:type] - Artifact type derived from build.type
  artifact: null
  # Skip confirmation prompts (maps to --no-confirm)
  no_confirm: true

# ──────────────────────────────────────────────
# Bundletool (AAB → APK conversion)
# ──────────────────────────────────────────────
bundletool:
  # Path to bundletool.jar (optional)
  path: null
  # Path to key.properties file
  keystore: android/key.properties

# ──────────────────────────────────────────────
# Custom command aliases
# ──────────────────────────────────────────────
alias:
  gen-icon:
    cmds:
      - fvm flutter pub get
      - fvm flutter pub run flutter_launcher_icons
  brn:
    cmds:
      - fvm flutter pub get
      - fvm flutter packages pub run build_runner build --delete-conflicting-outputs
